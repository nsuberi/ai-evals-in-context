{% extends "narrative/base_narrative.html" %}
{% from "components/rainbow_arc.html" import rainbow_arc %}

{% block title %}AI Testing Resource - Governance-First AI Development{% endblock %}

{% block phase_header %}
<!-- Custom hero instead of standard phase header -->
<section class="landing-hero">
  <h1 class="landing-hero__title">AI in Production: A Governance-First Approach</h1>
  <p class="landing-hero__subtitle">
    Teams adopting AI need governance guidance&mdash;how work gets governed, approved, and tied to business value.
    At the same time, agentic coding tools are enabling new participants in the SDLC: product managers, business analysts,
    and others writing code for the first time. The structured approach here helps everyone&mdash;from seasoned engineers
    to new builders&mdash;know what "done" looks like and how to get there.
  </p>
  <a href="{{ url_for('narrative.problem') }}" class="landing-cta">
    Start the Journey
    <span>&rarr;</span>
  </a>
</section>
{% endblock %}

{% block phase_intro %}{% endblock %}

{% block phase_content %}
<!-- 3-Part Framework Section -->
<section class="cycle-section">
  <h2 class="cycle-section__title">The Three-Part Framework</h2>
  <div class="cycle-cards">
    <div class="cycle-card">
      <span class="cycle-card__number">1</span>
      <h3 class="cycle-card__title">Governance</h3>
      <p class="cycle-card__description">
        AI governance is a people challenge as much as a technical one. Repeatable rituals build
        confidence between builders and the teams who approve their work.
      </p>
      <ul class="cycle-card__rituals">
        <li>Acceptance criteria agreement</li>
        <li>Test review sessions</li>
        <li>TSR checkpoint before deploy</li>
      </ul>
    </div>
    <div class="cycle-card">
      <span class="cycle-card__number">2</span>
      <h3 class="cycle-card__title">Approvals</h3>
      <p class="cycle-card__description">
        Design with the End in Mind. When teams know what "done" looks like from Day 1,
        the path to go/no-go is predictable. Approvals accelerate delivery, they don't block it.
      </p>
    </div>
    <div class="cycle-card">
      <span class="cycle-card__number">3</span>
      <h3 class="cycle-card__title">Business Value</h3>
      <p class="cycle-card__description">
        The Test Summary Report ties test results back to requirements so stakeholders
        always know where things stand. Is the juice worth the squeeze?
      </p>
    </div>
  </div>
</section>

<!-- Guiding Principle -->
<section class="guiding-principle">
  <blockquote class="guiding-principle__quote">
    "The rituals matter more than the tools. Acceptance criteria agreement, test review sessions,
    and TSR checkpoints are how builders and risk bodies develop shared confidence&mdash;whether
    you've shipped a hundred features or you're writing your first line of code."
  </blockquote>
</section>

<!-- TSR Preview Mock -->
<section class="tsr-preview">
  <div class="tsr-preview__card">
    <div class="tsr-preview__header">
      <div>
        <h3 class="tsr-preview__title">Test Summary Report</h3>
        <span class="tsr-preview__id">TSR-2026-0208-A1</span>
      </div>
      <span class="tsr-preview__badge">GO</span>
    </div>
    <div class="tsr-preview__body">
      <p class="tsr-preview__section-label">Requirements Verified</p>
      <ul class="tsr-preview__checklist">
        <li><span class="tsr-preview__check">&#10003;</span> Instant response (&lt;5s)</li>
        <li><span class="tsr-preview__check">&#10003;</span> Grounded in knowledge base</li>
        <li><span class="tsr-preview__check">&#10003;</span> 95% accuracy on product questions</li>
        <li><span class="tsr-preview__check">&#10003;</span> Source attribution on every response</li>
      </ul>

      <p class="tsr-preview__section-label">Test Results</p>
      <div class="tsr-preview__bars">
        <div class="tsr-preview__bar">
          <span class="tsr-preview__bar-label">Unit</span>
          <div class="tsr-preview__bar-track"><div class="tsr-preview__bar-fill" style="width:100%"></div></div>
          <span class="tsr-preview__bar-value">100%</span>
        </div>
        <div class="tsr-preview__bar">
          <span class="tsr-preview__bar-label">Integration</span>
          <div class="tsr-preview__bar-track"><div class="tsr-preview__bar-fill" style="width:100%"></div></div>
          <span class="tsr-preview__bar-value">100%</span>
        </div>
        <div class="tsr-preview__bar">
          <span class="tsr-preview__bar-label">Security</span>
          <div class="tsr-preview__bar-track"><div class="tsr-preview__bar-fill" style="width:100%"></div></div>
          <span class="tsr-preview__bar-value">100%</span>
        </div>
        <div class="tsr-preview__bar">
          <span class="tsr-preview__bar-label">AI Evals</span>
          <div class="tsr-preview__bar-track"><div class="tsr-preview__bar-fill tsr-preview__bar-fill--95" style="width:95%"></div></div>
          <span class="tsr-preview__bar-value">95%</span>
        </div>
      </div>

      <div class="tsr-preview__approval">
        <span class="tsr-preview__check">&#10003;</span>
        Approved by J. Martinez &middot; 2026-02-08 14:32 UTC
      </div>
    </div>
    <div class="tsr-preview__footer">
      <p class="tsr-preview__progress-text">This is where you're headed&mdash;a clear go/no-go artifact scoped to each release.</p>
      <div class="tsr-preview__progress-bar">
        <div class="tsr-preview__progress-fill"></div>
      </div>
    </div>
  </div>
</section>

<!-- Builder Bridge -->
<section class="builder-bridge">
  <p class="builder-bridge__text">
    The framework above establishes the rituals and expectations. <strong>The SDLC is the shared language</strong>
    that both experienced engineers and new builders&mdash;PMs, BAs, and others using agentic coding tools&mdash;follow.
    The five phases below show this familiar lifecycle adapted for AI features:
    how to build the right things, build them correctly, and not introduce new problems along the way.
  </p>
</section>

<!-- Rainbow Arc Phase Visual -->
<section class="narrative-content" style="padding-bottom: 0;">
  {{ rainbow_arc(phases, url_for) }}
</section>

<!-- 5 Phases Overview Section -->
<section class="phases-section">
  <h2 class="phases-section__title">The SDLC with AI</h2>
  <div class="phase-cards">
    <a href="{{ url_for('narrative.phase_1') }}" class="phase-card">
      <span class="phase-card__number">1</span>
      <h3 class="phase-card__title">Discovery</h3>
      <p class="phase-card__description">
        Interview stakeholders, discover requirements, define acceptance criteria through conversation.
      </p>
    </a>
    <a href="{{ url_for('narrative.phase_2') }}" class="phase-card">
      <span class="phase-card__number">2</span>
      <h3 class="phase-card__title">Design</h3>
      <p class="phase-card__description">
        Plan architecture, choose technology, establish a testing strategy.
      </p>
    </a>
    <a href="{{ url_for('narrative.phase_3') }}" class="phase-card">
      <span class="phase-card__number">3</span>
      <h3 class="phase-card__title">Build</h3>
      <p class="phase-card__description">
        Build with AI, explore test types, and understand how each validates quality.
      </p>
    </a>
    <a href="{{ url_for('narrative.phase_4') }}" class="phase-card">
      <span class="phase-card__number">4</span>
      <h3 class="phase-card__title">Iterate &amp; Approve</h3>
      <p class="phase-card__description">
        Iterate on AI behavior, discover failure modes, and build confidence for approval.
      </p>
    </a>
    <a href="{{ url_for('narrative.phase_5') }}" class="phase-card">
      <span class="phase-card__number">5</span>
      <h3 class="phase-card__title">Deploy &amp; Monitor</h3>
      <p class="phase-card__description">
        Deploy to production, monitor real usage, and feed learnings back into discovery.
      </p>
    </a>
  </div>
</section>

{% if content %}
<section class="phase-intro">
  <div class="phase-intro__content">
    {{ content | safe }}
  </div>
</section>
{% endif %}
{% endblock %}

{% block phase_navigation %}
<nav class="phase-nav-bottom">
  <div></div>
  <a href="{{ url_for('narrative.problem') }}" class="phase-nav-btn phase-nav-btn--next">
    <span class="phase-nav-btn__text">
      <span class="phase-nav-btn__label">Start with</span>
      <span class="phase-nav-btn__title">The Problem</span>
    </span>
    <span class="phase-nav-btn__arrow">&rarr;</span>
  </a>
</nav>
{% endblock %}
